<ng-template [ngIf]="isActive">
  <div class="sf-modal sf-modal--min" [ngClass]="{'is-active': isActive===true}" role="dialog" aria-labelledby="confirm"
    (click)="$event.stopPropagation()">
    <div class="tn-modal" role="document">
      <div class="tn-modal__content">
        <div class="tn-modal__header">
          <button class="tn-button tn-button--text tn-button--icon tn-button--small" aria-label="close" (click)="close()">
            <span class="tn-icon tn-icon--close" role="presentation"></span>
          </button>
          <h4 class="tn-modal__title">Create Remote Environment</h4>
        </div>
        <div class="tn-modal__body">
          <div class="tn-form__group">
            <div class="error-message-placeholder" *ngIf="error">{{ error }}</div>
            <div class="tn-form__item">
              <label class="tn-form__label">Name *</label>
              <input class="tn-form__control" type="text" name="remoteEnvName" [(ngModel)]="name"
                placeholder="Specify a name for your new Remote Environment"
                >
                <!-- (ngModelChange)=validateRemoteEnvNameRegex() -->
              <!-- <div *ngIf="wrongPresetName" class="alert">The IDPPreset name has the wrong format. The name must consist
                of lower case alphanumeric characters, dashes or dots, and must start and end with an alphanumeric
                character (e.g. 'my-name1.com').</div> -->
            </div>
            <div class="tn-form__item">
              <label class="tn-form__label">Description *</label>
              <input class="tn-form__control" type="text" name="remoteEnvDescription" [(ngModel)]="description"
                placeholder="Specify a description for your new Remote Environment"
              >
                <!-- (ngModelChange)=validateRemoteEnvDescriptionRegex() -->
              <!-- <div *ngIf="wrongPresetName" class="alert">The IDPPreset name has the wrong format. The name must consist
                              of lower case alphanumeric characters, dashes or dots, and must start and end with an alphanumeric
                              character (e.g. 'my-name1.com').</div> -->
            </div>
            <div class="tn-form__item">
              <label class="tn-form__label" for="input-2">Labels</label>
              <div class="labels-input" id="input-2">
                <span title="Edit label" class="tn-badge-labels tn-badge tn-badge--pill labels" *ngFor="let label of labels"
                  (click)="updateLabel(label)">
                  {{ label }}
                  <div class="tn-icon tn-icon--remove remove-btn labels__remove" (click)="removeLabel(label)"></div>
                </span>
                <input #labelsInput type="text" class="tn-form__control" [(ngModel)]="newLabel" (keydown.enter)="addLabel()" (keydown.tab)="addLabel()"
                  (blur)="addLabel()"
                  [ngClass]="{'has-labels': labels.length > 0}"
                  placeholder="{{labels.length === 0 ? 'Specify one or more labels for your new Remote Environment' : ''}}">
              </div>
              <div *ngIf="wrongLabelMessage" class="alert alert-danger">
                {{ wrongLabelMessage }}
              </div>
            </div>
          </div>
        </div>
        <footer class="tn-modal__footer-items">
          <button class="tn-modal__button-primary sf-button--primary tn-button--small" ngClass="{{isReadyToCreate() ? '' : 'disabled'}}"
            [disabled]="!isReadyToCreate()" (click)="save()">
            Create
          </button>
          <button class="tn-modal__button-secondary sf-button--secondary tn-button--small" (click)="close()">Cancel</button>
        </footer>
      </div>
    </div>
  </div>
</ng-template>
