<fd-popover [alignment]="'right'" *ngIf="filterState.availableFacets.length">
  <fd-popover-control>
    <button fd-button [glyph]="'filter'" [state]="hasFacets()?'':'disabled'">
      Filter
      <fd-badge *ngIf="filterState.facets && 0 < filterState.facets.length && hasFacets()">
        {{ filterState.facets.length }}
      </fd-badge>
    </button>
  </fd-popover-control>
  <fd-popover-body>
    <fd-menu>
      <fd-menu-list>
        <li fd-menu-item *ngFor="let facet of filterState.availableFacets" (click)="toggleFacet(facet.label, $event)">
          <a title="facet.label">
            <input class="fd-form__control" id="{{facet.label }}" type="checkbox" [checked]="facetSelected(facet.label)">
            {{ facet.label }} ({{ facet.count }})
          </a>
        </li>
      </fd-menu-list>
    </fd-menu>
  </fd-popover-body>
</fd-popover>